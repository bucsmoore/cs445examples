<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Quick To-Do App</title>
        <!-- Use Tailwind CSS for quick styling -->
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <style>
            body {
                font-family: 'Inter', sans-serif;
                background: linear-gradient(to right, #46c14c, #64f784);
            }

            .completed-task {
                text-decoration: line-through;
                color: #9ca3af;
            }
        </style>
    </head>

    <body class="flex items-center justify-center min-h-screen p-4">

        <div class="bg-white p-6 rounded-3xl shadow-2xl w-full max-w-lg space-y-6">
            <h1 class="text-3xl font-extrabold text-center text-gray-800">Moore To-Do List üìù</h1>

            <!-- Input and Add Button Section -->
            <div class="flex space-x-2">
                <input type="text" id="task-input" placeholder="Add a new task..."
                       class="flex-grow p-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500 transition-all">
                <button id="add-task-btn"
                        class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-xl transition-colors shadow-lg">
                    Add
                </button>
            </div>

            <!-- Task List Section -->
            <ul id="task-list" class="space-y-4">
                <!-- Tasks will be dynamically added here -->
            </ul>
        </div>

        <script>
            // Get references to all the important DOM elements
            const taskInput = document.getElementById('task-input');
            const addTaskBtn = document.getElementById('add-task-btn');
            const taskList = document.getElementById('task-list');
            const STORAGE_KEY = 'todo-app-tasks';

            // Function to create a new task list item
            function createNewTask(taskText, isCompleted = false) {
                // Create the main list item element
                const li = document.createElement('li');
                li.className = 'flex items-center justify-between bg-gray-50 p-4 rounded-xl shadow-sm transition-all duration-300 ease-in-out';
                if (isCompleted) {
                    li.classList.add('completed-task');
                }

                // Create the text span for the task
                const span = document.createElement('span');
                span.className = 'text-gray-700 break-words flex-grow';
                span.textContent = taskText;

                // Create the container for the action buttons (complete and delete)
                const actionsDiv = document.createElement('div');
                actionsDiv.className = 'flex items-center space-x-2 ml-4 flex-shrink-0';

                // Create the complete button
                const completeBtn = document.createElement('button');
                completeBtn.className = 'complete-btn text-green-500 hover:text-green-700 transition-colors';
                completeBtn.innerHTML = '<i class="fas fa-check-circle"></i>';
                // Add a click listener to the complete button
                completeBtn.addEventListener('click', () => {
                    li.classList.toggle('completed-task');
                    saveTasks();
                });

                // Create the delete button
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn text-red-500 hover:text-red-700 transition-colors';
                deleteBtn.innerHTML = '<i class="fas fa-trash-alt"></i>';
                // Add a click listener to the delete button
                deleteBtn.addEventListener('click', () => {
                    li.remove();
                    saveTasks();
                });

                // Append the elements to the list item
                actionsDiv.appendChild(completeBtn);
                actionsDiv.appendChild(deleteBtn);
                li.appendChild(span);
                li.appendChild(actionsDiv);

                // Return the fully constructed list item
                return li;
            }

            // Function to save tasks to localStorage
            function saveTasks() {
                const tasks = [];
                document.querySelectorAll('#task-list li').forEach(li => {
                    const taskText = li.querySelector('span').textContent;
                    const isCompleted = li.classList.contains('completed-task');
                    tasks.push({ text: taskText, completed: isCompleted });
                });
                localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
            }

            // Function to load tasks from localStorage
            function loadTasks() {
                const storedTasks = localStorage.getItem(STORAGE_KEY);
                if (storedTasks) {
                    const tasks = JSON.parse(storedTasks);
                    tasks.forEach(task => {
                        const newTask = createNewTask(task.text, task.completed);
                        taskList.appendChild(newTask);
                    });
                }
            }

            // Function to handle adding a new task
            function addTask() {
                const taskText = taskInput.value.trim();
                if (taskText !== '') {
                    const newTask = createNewTask(taskText);
                    taskList.appendChild(newTask);
                    taskInput.value = ''; // Clear the input field
                    saveTasks(); // Save after adding a new task
                }
            }

            // Event listener for the "Add" button
            addTaskBtn.addEventListener('click', addTask);

            // Optional: Allow adding tasks by pressing the 'Enter' key
            taskInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    addTask();
                }
            });

            // Load tasks from storage when the page first loads
            loadTasks();
        </script>
    </body>

</html>